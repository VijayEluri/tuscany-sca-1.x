<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.    
-->

<html>
<head>
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii">
  <meta http-equiv="Content-Style-Type" content="text/css">

  <title>Tuscany Webapp Sample</title>
  <link rel="stylesheet" href="../../css/base.css" type="text/css">
</head>

<body>
  <!-- LINK rel="stylesheet" href="ait.css" type="text/css" -->
  <!-- maven --><!-- end maven -->

  <h3>Tuscany Webapp Sample</h3>

  <h4>Overview</h4>

  <p>This sample illustrates how to use Apache Tuscany to run a SCA composite inside a
web application. It describes how to run it on Apache Tomcat but the application
should be portable to other containers such as Jetty or commmercial servers.</p>

  <h4>Location</h4>

  <p>This sample is located&nbsp;in the&nbsp; <a href=
  ".">samples\webapp\webapp</a> directory. &nbsp;All
  the following commands should be issued while working in the
  sample directory.&nbsp;</p>

  <h4>Prerequisites</h4>

  <p>Obtain the following prerequisites and install according to
  their documentation.</p>

  <ul>
    <li><a href="http://java.sun.com/javase/downloads/index.jsp"
    target="_blank">JDK 5.0</a></li>

    <li><a href="http://maven.apache.org/download.html" target=
    "_blank">Maven 2.0.4</a></li>

    <li><a href="http://tomcat.apache.org/download-55.cgi" target=
    "_blank">Apache Tomcat 5.xx</a> latest version binary core
    distribution.&nbsp;</li>

    <li>This sample reuses the composite from the &nbsp;<a href=  "../../standalone/calculator/readme.html" target="_blank">calculator sample</a>&nbsp;
    so that sample must have beed built before building this sample.</li>
  </ul>

  <h4>Building</h4>

  <p>To build the sample issue :</p>
  <pre>
<code>mvn</code>
</pre>

  <p>This should result in the creation of the war file
  <span style="font-weight: bold;">target\sample-webapp.war</span></p>

  <h4>Setup</h4>

  <p>If you have enabled remote deployment in Tomcat by adding the
  line:</p>

  <p><code>&lt;user username="admin" password=""
  roles="manager"/&gt;</code></p>

  <p>into <span style="font-style: italic;">&lt;tomcat
  dir&gt;</span>\conf\tomcat-users.xml you can deploy the WARs to
  Tomcat using the tomcat-maven-plugin:</p>

  <p><code>mvn tomcat:deploy</code></p>

  <p>Alternatively you can copy the WAR files to Tomcat's webapps
  directory. Copy <span style=
  "font-weight: bold;">target\sample-webapp.war</span>
  <span style="font-style: italic;">&lt;tomcat
  dir&gt;</span>/webapps/.</p>

  <h4>Running</h4>

  <p>Start the tomcat server by issuing the following command ind
  the <span style="font-style: italic;">&lt;tomcat
  dir&gt;</span>\bin directory:</p>

  <p><code>startup</code></p>

  <p>Once you've started your web server, open a browser and go to sample-webapp page at
&nbsp;<a href=
  "http://localhost:8080/sample-webapp/" target=
  "_blank">http://localhost:8080/sample-webapp/</a>&nbsp; and you should see a web page displaying:</p>
<samp>
<br><B>Expression	Result</B>
<br>2 + 3	5.0
<br>3 - 2	1.0
</samp>
</body>
</html>
