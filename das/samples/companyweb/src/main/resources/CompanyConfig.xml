<?xml version="1.0" encoding="UTF-8"?>
<Config xsi:noNamespaceSchemaLocation="http:///org.apache.tuscany.das.rdb/config.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    
    <Command name="all companies" SQL="select * from COMPANY" kind="Select"/>
    
    <Command name="all companies and departments" SQL="select * from COMPANY left outer join DEPARTMENT on COMPANY.ID = DEPARTMENT.COMPANYID" kind="Select"/>

    <Command name="all departments for company" SQL="select * from COMPANY inner join DEPARTMENT on COMPANY.ID = DEPARTMENT.COMPANYID where COMPANY.ID = :ID" kind="Select"/>

    <Command name="company by id with departments" SQL="select * from COMPANY left outer join DEPARTMENT on COMPANY.ID = DEPARTMENT.COMPANYID where COMPANY.ID = :ID" kind="Select"/>
	

	   <ConnectionProperties dataSource="java:comp/env/jdbc/dastest"/>
 

<!--
    <ConnectionProperties driverClassName="org.apache.derby.jdbc.EmbeddedDriver"
        driverURL="jdbc:derby:dastest"/>
--> 
    <Table name="COMPANY">
        <Column name="ID" primaryKey="true" generated="true"/>
    </Table>
    
	<Table name="DEPARTMENT">
		<Column name="ID" primaryKey="true" generated="true"/>
	</Table>
	
	<Relationship name="departments" primaryKeyTable="COMPANY" foreignKeyTable="DEPARTMENT" many="true">
      <KeyPair primaryKeyColumn="ID" foreignKeyColumn="COMPANYID"/>
    </Relationship>
	
	
</Config>